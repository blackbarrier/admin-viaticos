{% extends 'base.html.twig' %}

{% block title %}Plantilla index{% endblock %}

{% block stylesheets %}
{{parent()}}
{% endblock %}


{% block body %}

<div id="loaderB"></div>
<div class="card" style="overflow:auto">

    <div class="card-header">
        <div class="row">
            <div class="col-sm-10">
                <h3><i class="fa fa-institution"></i>&nbsp; <b>Administración de dependencias</b></h3>
                <p class="text-muted h6 m-b-10 mt-3">Se muestran todas las dependencias disponibles</p>
            </div>
            <div class="col-sm-2">
                <a href="{{path('app_admin_dependencias_new')}}"><button class="btn btn-inverse btn-inverse-jag btn-inverse-jag btn-outline-inverse" style="width: 100%;">
                    <i class="fa fa-institution"></i>&nbsp;+ Crear dependencia</button></a>
            </div>

        </div>
    </div>

    <br>

    <div class="card-block">
        
        <table class="table table-hover" id="miTabla">
            <thead>
                <tr>
                    {# <th>Id</th> #}
                    <th>Nombre</th>
                    <th>Abreviatura</th>
                    {# <th>DependenciaRenaperId</th> #}
                    {# <th>CodigoGdeba</th> #}
                    {# <th>TipoDependenciaId</th> #}
                    {# <th>TipoDelegacion</th> #}
                    <th>Descripción</th>
                    {# <th>Clase</th> #}
                    {# <th>PartidoId</th> #}
                    <th>Fecha desde</th>
                    <th>Fecha hasta</th>
                    {# <th>FechaCarga</th> #}
                    {# <th>UsuarioId</th> #}
                    {# <th>EstadoDependenciaId</th> #}
                    {# <th>Externa</th> #}
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for info_dependencium in info_dependencias %}
                <tr>
                    {# <td>{{ info_dependencium.id }}</td> #}
                    <td>{{ info_dependencium.nombre }}</td>
                    <td>{{ info_dependencium.abreviatura }}</td>
                    {# <td>{{ info_dependencium.dependenciaRenaperId }}</td> #}
                    {# <td>{{ info_dependencium.codigoGdeba }}</td> #}
                    {# <td>{{ info_dependencium.tipoDependenciaId }}</td> #}
                    {# <td>{{ info_dependencium.tipoDelegacion }}</td> #}
                    <td>{{ info_dependencium.descripcion }}</td>
                    {# <td>{{ info_dependencium.clase }}</td> #}
                    {# <td>{{ info_dependencium.partidoId }}</td> #}
                    <td>{{ info_dependencium.fechaVigenciaDesde ? info_dependencium.fechaVigenciaDesde|date('Y-m-d') : '' }}
                    </td>
                    <td>{{ info_dependencium.fechaVigenciaHasta ? info_dependencium.fechaVigenciaHasta|date('Y-m-d') : '' }}
                    </td>
                    {# <td>{{ info_dependencium.fechaCarga ? info_dependencium.fechaCarga|date('Y-m-d H:i:s') : '' }}</td> #}
                    {# <td>{{ info_dependencium.usuarioId }}</td> #}
                    {# <td>{{ info_dependencium.estadoDependenciaId }}</td> #}
                    {# <td>{{ info_dependencium.externa ? 'Yes' : 'No' }}</td> #}
                    <td>

                        <div class="dropdown-primary dropdown open">
                            <button class="btn btn-inverse btn-inverse-jag btn-outline-inverse dropdown-toggle waves-effect waves-light "
                                type="button" id="dropdown-2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">Acciones</button>
                            <div class="dropdown-menu" aria-labelledby="dropdown-2" data-dropdown-in="fadeIn" data-dropdown-out="fadeOut">                             
                                <a class="dropdown-item waves-light waves-effect" href="{{ path('app_admin_dependencias_show', {'id': info_dependencium.id}) }}">Ver detalles</a>
                                <a class="dropdown-item waves-light waves-effect" href="{{ path('app_admin_dependencias_edit', {'id': info_dependencium.id}) }}">Editar</a>                        
                            </div>
                        </div>


                    </td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="5">No se encontraron dependencias</td>
                </tr>
                {% endfor %}
            </tbody>
            <tfoot>
            </tfoot>
        </table>
        
        {# <a href="{{ path('app_admin_dependencias_new') }}">Nueva dependencia</a>    #}

    </div>
</div>

{% endblock %}

{% block javascripts %}
{{ parent() }}

    <script>
        $(document).ready(function () {
            $('#miTabla').DataTable({
                "language": {
                    "sProcessing": "Procesando...",
                    "sLengthMenu": "Mostrar _MENU_ plantillas",
                    "sZeroRecords": "No se encontraron resultados",
                    "sEmptyTable": "Ningún dato disponible en esta tabla",
                    "sInfo": "Mostrando plantillas del _START_ al _END_ de un total de _TOTAL_ plantillas",
                    "sInfoEmpty": "Mostrando plantillas del 0 al 0 de un total de 0 plantillas",
                    "sInfoFiltered": "(filtrado de un total de _MAX_ plantillas)",
                    "sInfoPostFix": "",
                    "sSearch": "Buscar:",
                    "sUrl": "",
                    "sInfoThousands": ",",
                    "sLoadingRecords": "Cargando...",
                    "oPaginate": {
                        "sFirst": "Primero",
                        "sLast": "Último",
                        "sNext": "Siguiente",
                        "sPrevious": "Anterior"
                    },
                    "oAria": {
                        "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                        "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                    }
                }
            });

        }, 500);

    </script>

{% endblock %}